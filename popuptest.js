(function(f){var d={coverId:"CoverPop-cover",expires:30,closeClassNoDefault:"CoverPop-close",closeClassDefault:"CoverPop-close-go",cookieName:"CoverPop",onPopUpOpen:null,onPopUpClose:null,forceHash:"splash",delayHash:"go",closeOnEscape:true,debug:false},g={html:document.getElementsByTagName("html")[0],cover:document.getElementById(d.coverId),closeClassDefaultEls:document.querySelectorAll("."+d.closeClassDefault),closeClassNoDefaultEls:document.querySelectorAll("."+d.closeClassNoDefault)},c={hasClass:function(a,
b){return RegExp("(\\s|^)"+b+"(\\s|$)").test(a.className)},addClass:function(a,b){c.hasClass(a,b)||(a.className+=(a.className?" ":"")+b)},removeClass:function(a,b){if(c.hasClass(a,b))a.className=a.className.replace(RegExp("(\\s|^)"+b+"(\\s|$)")," ").replace(/^\s+|\s+$/g,"")},addListener:function(a,b,e){if(a.addEventListener)a.addEventListener(b,e,false);else a.attachEvent&&a.attachEvent("on"+b,e)},removeListener:function(a,b,e){if(a.removeEventListener)a.removeEventListener(b,e,false);else a.detachEvent&&
a.detachEvent("on"+b,e)},isFunction:function(a){var b={};return a&&b.toString.call(a)==="[object Function]"},shareInfo:function(a){window.console&&window.console.log&&d.debug&&window.console.log(a)},setCookie:function(a,b){var e=new Date;e.setTime(+e+b*864E5);document.cookie=a+"=true; expires="+e.toGMTString()+"; path=/";c.shareInfo("Cookie "+a+" set for "+b+" days away.")},hasCookie:function(a){if(document.cookie.indexOf(a)!==-1)return true;return false},hashExists:function(a){if(window.location.hash.indexOf(a)!==
-1)return true;return false},preventDefault:function(a){if(a.preventDefault)a.preventDefault();else a.returnValue=false},mergeObj:function(a,b){for(var e in b)a[e]=b[e]}},h=function(a){d.closeOnEscape&&a.keyCode===27&&f.close()};f.open=function(){var a,b;if(c.hashExists(d.delayHash))c.setCookie(d.cookieName,1);else{c.addClass(g.html,"CoverPop-open");if(g.closeClassNoDefaultEls.length>0){a=0;for(b=g.closeClassNoDefaultEls.length;a<b;a++)c.addListener(g.closeClassNoDefaultEls[a],"click",function(e){c.preventDefault(e);
f.close()})}if(g.closeClassDefaultEls.length>0){a=0;for(b=g.closeClassDefaultEls.length;a<b;a++)c.addListener(g.closeClassDefaultEls[a],"click",f.close)}c.addListener(document,"keyup",h);if(d.onPopUpClose!==null)if(c.isFunction(d.onPopUpOpen)){d.onPopUpOpen.call();c.shareInfo("CoverPop is open.")}else throw Error("CoverPop open callback must be a function.");}};f.close=function(){c.removeClass(g.html,"CoverPop-open");c.setCookie(d.cookieName,d.expires);c.removeListener(document,"keyup",h);if(d.onPopUpClose!==
null)if(c.isFunction(d.onPopUpClose)){d.onPopUpClose.call();c.shareInfo("CoverPop is closed.")}else throw Error("CoverPop close callback must be a function.");};f.init=function(a){c.mergeObj(d,a);if(!c.hasCookie(d.cookieName)||c.hashExists(d.forceHash))f.open()};f.start=function(a){f.init(a)}})(window.CoverPop=window.CoverPop||{});